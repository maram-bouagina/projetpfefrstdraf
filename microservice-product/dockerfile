FROM golang:1.24-alpine
WORKDIR /app

# Copy go module files first (for better caching)
COPY go.mod go.sum ./
RUN go mod download

# Then copy the rest of the source
COPY . .

# Build the app â€“ specify the exact main package path
RUN go build -o api ./cmd/...

EXPOSE 8000
CMD ["./api"]